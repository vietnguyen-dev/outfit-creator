<!-- template/signup.html -->

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up - Outfit Creator</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />

    <style>
      body {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem 0;
      }

      .signup-container {
        max-width: 450px;
        width: 100%;
      }

      .card {
        border: none;
        border-radius: 1rem;
        box-shadow: 0 0.5rem 1rem 0 rgba(0, 0, 0, 0.1);
      }

      .card-header {
        background-color: #fff;
        border-bottom: none;
        padding: 2rem 2rem 0;
      }

      .card-body {
        padding: 2rem;
      }

      .form-control:focus {
        border-color: #667eea;
        box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
      }

      .btn-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
        padding: 0.75rem;
        font-weight: 500;
      }

      .btn-primary:hover {
        background: linear-gradient(135deg, #5568d3 0%, #653a8b 100%);
      }

      .password-strength {
        height: 5px;
        margin-top: 0.5rem;
        border-radius: 3px;
        background-color: #e9ecef;
      }

      .password-strength-bar {
        height: 100%;
        border-radius: 3px;
        transition: all 0.3s;
      }

      .social-btn {
        border: 1px solid #dee2e6;
        padding: 0.75rem;
        margin-bottom: 0.5rem;
        transition: all 0.3s;
      }

      .social-btn:hover {
        background-color: #f8f9fa;
        transform: translateY(-2px);
      }

      .divider {
        display: flex;
        align-items: center;
        text-align: center;
        margin: 1.5rem 0;
      }

      .divider::before,
      .divider::after {
        content: "";
        flex: 1;
        border-bottom: 1px solid #dee2e6;
      }

      .divider span {
        padding: 0 1rem;
        color: #6c757d;
        font-size: 0.875rem;
      }
    </style>
  </head>
  <body>
    <div class="signup-container">
      <div class="card">
        <div class="card-header text-center">
          <h3 class="mb-3">Create Account</h3>
          <p class="text-muted">Join us today</p>
        </div>

        <div class="card-body">
          <!-- Social Signup Buttons -->
          <button class="btn btn-outline-dark w-100 social-btn">
            <i class="bi bi-google me-2"></i>
            Sign up with Google
          </button>

          <button class="btn btn-outline-dark w-100 social-btn">
            <i class="bi bi-facebook me-2"></i>
            Sign up with Facebook
          </button>

          <div class="divider">
            <span>OR</span>
          </div>

          <!-- Signup Form -->
          <form id="signupForm">
            <div class="mb-3">
              <label for="name" class="form-label">Full Name</label>
              <input
                type="text"
                class="form-control"
                id="name"
                placeholder="John Doe"
                required
              />
            </div>

            <div class="mb-3">
              <label for="email" class="form-label">Email address</label>
              <input
                type="email"
                class="form-control"
                id="email"
                placeholder="name@example.com"
                required
              />
            </div>

            <div class="mb-3">
              <label for="password" class="form-label">Password</label>
              <div class="input-group">
                <input
                  type="password"
                  class="form-control"
                  id="password"
                  placeholder="Create a strong password"
                  required
                />
                <button
                  class="btn btn-outline-secondary"
                  type="button"
                  id="togglePassword"
                >
                  <i class="bi bi-eye"></i>
                </button>
              </div>
              <div class="password-strength">
                <div class="password-strength-bar" id="strengthBar"></div>
              </div>
              <small class="text-muted" id="strengthText"></small>
            </div>

            <div class="mb-3">
              <label for="confirmPassword" class="form-label"
                >Confirm Password</label
              >
              <input
                type="password"
                class="form-control"
                id="confirmPassword"
                placeholder="Re-enter your password"
                required
              />
              <small class="text-danger d-none" id="passwordMismatch"
                >Passwords do not match</small
              >
            </div>

            <div class="mb-3 form-check">
              <input
                type="checkbox"
                class="form-check-input"
                id="terms"
                required
              />
              <label class="form-check-label" for="terms">
                I agree to the
                <a href="#" class="text-decoration-none">Terms & Conditions</a>
              </label>
            </div>

            <button type="submit" class="btn btn-primary w-100 mb-3">
              Create Account
            </button>
          </form>

          <p class="text-center text-muted mb-0">
            Already have an account?
            <a href="/" class="text-decoration-none fw-bold">Sign in</a>
          </p>
        </div>
      </div>

      <p class="text-center text-white mt-4 mb-0">
        <small>&copy; 2024 Outfit Creator. All rights reserved.</small>
      </p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // Toggle password visibility
      const togglePassword = document.getElementById("togglePassword");
      const passwordInput = document.getElementById("password");

      togglePassword.addEventListener("click", function () {
        const type = passwordInput.type === "password" ? "text" : "password";
        passwordInput.type = type;

        const icon = this.querySelector("i");
        icon.classList.toggle("bi-eye");
        icon.classList.toggle("bi-eye-slash");
      });

      // Password strength checker
      passwordInput.addEventListener("input", function () {
        const password = this.value;
        const strengthBar = document.getElementById("strengthBar");
        const strengthText = document.getElementById("strengthText");

        let strength = 0;
        if (password.length >= 8) strength++;
        if (password.match(/[a-z]/) && password.match(/[A-Z]/)) strength++;
        if (password.match(/\d/)) strength++;
        if (password.match(/[^a-zA-Z\d]/)) strength++;

        const colors = ["#dc3545", "#ffc107", "#17a2b8", "#28a745"];
        const texts = ["Weak", "Fair", "Good", "Strong"];
        const widths = ["25%", "50%", "75%", "100%"];

        if (password.length === 0) {
          strengthBar.style.width = "0%";
          strengthText.textContent = "";
        } else {
          strengthBar.style.width = widths[strength];
          strengthBar.style.backgroundColor = colors[strength];
          strengthText.textContent = texts[strength];
          strengthText.style.color = colors[strength];
        }
      });

      // Check password confirmation
      const confirmPassword = document.getElementById("confirmPassword");
      const passwordMismatch = document.getElementById("passwordMismatch");

      confirmPassword.addEventListener("input", function () {
        if (this.value !== passwordInput.value) {
          passwordMismatch.classList.remove("d-none");
        } else {
          passwordMismatch.classList.add("d-none");
        }
      });

      // Handle form submission
      document
        .getElementById("signupForm")
        .addEventListener("submit", async function (e) {
          e.preventDefault();

          if (passwordInput.value !== confirmPassword.value) {
            alert("Passwords do not match!");
            return;
          }

          const name = document.getElementById("name").value;
          const email = document.getElementById("email").value;
          const password = passwordInput.value;

          console.log("Signup attempt:", { name, email, password });

          // TODO: Add your signup logic here
          /*
      try {
        const response = await fetch('/api/auth/signup', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ name, email, password })
        });
        
        const data = await response.json();
        
        if (response.ok) {
          alert('Account created successfully!');
          window.location.href = '/login';
        } else {
          alert(data.error || 'Signup failed');
        }
      } catch (error) {
        console.error('Signup error:', error);
        alert('An error occurred. Please try again.');
      }
      */
        });
    </script>
  </body>
</html>
